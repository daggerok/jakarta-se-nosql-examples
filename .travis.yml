notifications:
  email: false
git:
  quiet: true
  depth: false
env:
  global:
  - TERM=dumb
language: java
jdk: openjdk8
addons:
  apt:
    update: true
    packages:
    - bash
install: true
jobs:
  include:
  - stage: test
    jdk: openjdk8
    name: jdk8
    script: cd $TRAVIS_BUILD_DIR && ./mvnw
#  - stage: test
#    jdk: openjdk11
#    name: jdk11
#    script: cd $TRAVIS_BUILD_DIR && ./mvnw
#  - stage: test
#    jdk: openjdk8
#    name: test
#    script:
#    - cd $TRAVIS_BUILD_DIR && ./mvnw
#    - cd java -jar $TRAVIS_BUILD_DIR/hazelcast/target/*-all.jar
  - stage: test
    jdk: openjdk11
    name: test
    script:
    - cd $TRAVIS_BUILD_DIR && ./mvnw
    - cd java -jar $TRAVIS_BUILD_DIR/hazelcast/target/*-all.jar
  - stage: test
    jdk: openjdk8
    name: display-property-updates
    script:
    - cd $TRAVIS_BUILD_DIR && ./mvnw versions:display-parent-updates versions:display-plugin-updates versions:display-dependency-updates -U >/dev/null
    - cd $TRAVIS_BUILD_DIR && ./mvnw versions:display-parent-updates versions:display-plugin-updates versions:display-dependency-updates
#  - stage: test
#    jdk: openjdk11
#    name: display-property-updates jdk11
#    script:
#    - cd $TRAVIS_BUILD_DIR && ./mvnw versions:display-parent-updates versions:display-plugin-updates versions:display-dependency-updates -U >/dev/null
#    - cd $TRAVIS_BUILD_DIR && ./mvnw versions:display-parent-updates versions:display-plugin-updates versions:display-dependency-updates
cache:
  packages: true
  directories:
  - ~/.m2
